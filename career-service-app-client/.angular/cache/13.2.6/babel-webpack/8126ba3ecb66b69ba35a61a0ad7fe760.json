{"ast":null,"code":"function cov_2nx9f90xx0() {\n  var path = \"/Users/nipunhedaoo/Documents/GitHub/Team_CodeBlooded_SOEN6011_Summer2023/career-service-app-client/src/app/user-login/user-login.component.ts\";\n  var hash = \"c55aeea3cbf776c7253c0a0e167204124f417bdc\";\n  var global = new Function(\"return this\")();\n  var gcv = \"__coverage__\";\n  var coverageData = {\n    path: \"/Users/nipunhedaoo/Documents/GitHub/Team_CodeBlooded_SOEN6011_Summer2023/career-service-app-client/src/app/user-login/user-login.component.ts\",\n    statementMap: {\n      \"0\": {\n        start: {\n          line: 9,\n          column: 25\n        },\n        end: {\n          line: 39,\n          column: 1\n        }\n      },\n      \"1\": {\n        start: {\n          line: 11,\n          column: 8\n        },\n        end: {\n          line: 11,\n          column: 31\n        }\n      },\n      \"2\": {\n        start: {\n          line: 12,\n          column: 8\n        },\n        end: {\n          line: 12,\n          column: 39\n        }\n      },\n      \"3\": {\n        start: {\n          line: 13,\n          column: 8\n        },\n        end: {\n          line: 13,\n          column: 49\n        }\n      },\n      \"4\": {\n        start: {\n          line: 14,\n          column: 8\n        },\n        end: {\n          line: 14,\n          column: 29\n        }\n      },\n      \"5\": {\n        start: {\n          line: 15,\n          column: 8\n        },\n        end: {\n          line: 18,\n          column: 11\n        }\n      },\n      \"6\": {\n        start: {\n          line: 22,\n          column: 8\n        },\n        end: {\n          line: 22,\n          column: 59\n        }\n      },\n      \"7\": {\n        start: {\n          line: 23,\n          column: 8\n        },\n        end: {\n          line: 25,\n          column: 9\n        }\n      },\n      \"8\": {\n        start: {\n          line: 24,\n          column: 12\n        },\n        end: {\n          line: 24,\n          column: 48\n        }\n      },\n      \"9\": {\n        start: {\n          line: 29,\n          column: 8\n        },\n        end: {\n          line: 37,\n          column: 11\n        }\n      },\n      \"10\": {\n        start: {\n          line: 30,\n          column: 12\n        },\n        end: {\n          line: 30,\n          column: 146\n        }\n      },\n      \"11\": {\n        start: {\n          line: 31,\n          column: 12\n        },\n        end: {\n          line: 31,\n          column: 67\n        }\n      },\n      \"12\": {\n        start: {\n          line: 32,\n          column: 12\n        },\n        end: {\n          line: 32,\n          column: 63\n        }\n      },\n      \"13\": {\n        start: {\n          line: 33,\n          column: 12\n        },\n        end: {\n          line: 33,\n          column: 48\n        }\n      },\n      \"14\": {\n        start: {\n          line: 34,\n          column: 12\n        },\n        end: {\n          line: 34,\n          column: 37\n        }\n      },\n      \"15\": {\n        start: {\n          line: 36,\n          column: 12\n        },\n        end: {\n          line: 36,\n          column: 80\n        }\n      },\n      \"16\": {\n        start: {\n          line: 40,\n          column: 0\n        },\n        end: {\n          line: 45,\n          column: 2\n        }\n      },\n      \"17\": {\n        start: {\n          line: 40,\n          column: 42\n        },\n        end: {\n          line: 45,\n          column: 1\n        }\n      },\n      \"18\": {\n        start: {\n          line: 46,\n          column: 0\n        },\n        end: {\n          line: 52,\n          column: 23\n        }\n      }\n    },\n    fnMap: {\n      \"0\": {\n        name: \"(anonymous_0)\",\n        decl: {\n          start: {\n            line: 10,\n            column: 4\n          },\n          end: {\n            line: 10,\n            column: 5\n          }\n        },\n        loc: {\n          start: {\n            line: 10,\n            column: 64\n          },\n          end: {\n            line: 19,\n            column: 5\n          }\n        },\n        line: 10\n      },\n      \"1\": {\n        name: \"(anonymous_1)\",\n        decl: {\n          start: {\n            line: 20,\n            column: 4\n          },\n          end: {\n            line: 20,\n            column: 5\n          }\n        },\n        loc: {\n          start: {\n            line: 20,\n            column: 15\n          },\n          end: {\n            line: 26,\n            column: 5\n          }\n        },\n        line: 20\n      },\n      \"2\": {\n        name: \"(anonymous_2)\",\n        decl: {\n          start: {\n            line: 27,\n            column: 4\n          },\n          end: {\n            line: 27,\n            column: 5\n          }\n        },\n        loc: {\n          start: {\n            line: 27,\n            column: 16\n          },\n          end: {\n            line: 38,\n            column: 5\n          }\n        },\n        line: 27\n      },\n      \"3\": {\n        name: \"(anonymous_3)\",\n        decl: {\n          start: {\n            line: 29,\n            column: 96\n          },\n          end: {\n            line: 29,\n            column: 97\n          }\n        },\n        loc: {\n          start: {\n            line: 29,\n            column: 105\n          },\n          end: {\n            line: 35,\n            column: 9\n          }\n        },\n        line: 29\n      },\n      \"4\": {\n        name: \"(anonymous_4)\",\n        decl: {\n          start: {\n            line: 35,\n            column: 11\n          },\n          end: {\n            line: 35,\n            column: 12\n          }\n        },\n        loc: {\n          start: {\n            line: 35,\n            column: 22\n          },\n          end: {\n            line: 37,\n            column: 9\n          }\n        },\n        line: 35\n      },\n      \"5\": {\n        name: \"(anonymous_5)\",\n        decl: {\n          start: {\n            line: 40,\n            column: 36\n          },\n          end: {\n            line: 40,\n            column: 37\n          }\n        },\n        loc: {\n          start: {\n            line: 40,\n            column: 42\n          },\n          end: {\n            line: 45,\n            column: 1\n          }\n        },\n        line: 40\n      }\n    },\n    branchMap: {\n      \"0\": {\n        loc: {\n          start: {\n            line: 23,\n            column: 8\n          },\n          end: {\n            line: 25,\n            column: 9\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 23,\n            column: 8\n          },\n          end: {\n            line: 25,\n            column: 9\n          }\n        }, {\n          start: {\n            line: undefined,\n            column: undefined\n          },\n          end: {\n            line: undefined,\n            column: undefined\n          }\n        }],\n        line: 23\n      },\n      \"1\": {\n        loc: {\n          start: {\n            line: 23,\n            column: 12\n          },\n          end: {\n            line: 23,\n            column: 74\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 23,\n            column: 12\n          },\n          end: {\n            line: 23,\n            column: 48\n          }\n        }, {\n          start: {\n            line: 23,\n            column: 52\n          },\n          end: {\n            line: 23,\n            column: 74\n          }\n        }],\n        line: 23\n      }\n    },\n    s: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0,\n      \"9\": 0,\n      \"10\": 0,\n      \"11\": 0,\n      \"12\": 0,\n      \"13\": 0,\n      \"14\": 0,\n      \"15\": 0,\n      \"16\": 0,\n      \"17\": 0,\n      \"18\": 0\n    },\n    f: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0\n    },\n    b: {\n      \"0\": [0, 0],\n      \"1\": [0, 0]\n    },\n    inputSourceMap: {\n      version: 3,\n      file: \"user-login.component.js\",\n      sourceRoot: \"\",\n      sources: [\"/Users/nipunhedaoo/Documents/GitHub/Team_CodeBlooded_SOEN6011_Summer2023/career-service-app-client/src/app/user-login/user-login.component.ts\"],\n      names: [],\n      mappings: \";;;AAAA,OAAO,EAAE,SAAS,EAAU,MAAM,eAAe,CAAC;AAClD,OAAO,EAAE,WAAW,EAAa,UAAU,EAAE,MAAM,gBAAgB,CAAC;AACpE,OAAO,EAAE,MAAM,EAAE,MAAM,iBAAiB,CAAC;AACzC,OAAO,EAAE,aAAa,EAAE,MAAM,YAAY,CAAC;AAC3C,OAAO,EAAE,gBAAgB,EAAE,MAAM,sBAAsB,CAAC;IAO3C,kBAAkB,SAAlB,kBAAkB;IAS7B,YAAoB,OAAe,EAAU,WAAwB,EAAU,gBAAkC,EAAU,MAAqB;QAA5H,YAAO,GAAP,OAAO,CAAQ;QAAU,gBAAW,GAAX,WAAW,CAAa;QAAU,qBAAgB,GAAhB,gBAAgB,CAAkB;QAAU,WAAM,GAAN,MAAM,CAAe;QAPhJ,cAAS,GAAc,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YAC5C,SAAS,EAAE,CAAC,IAAI,EAAE,UAAU,CAAC,QAAQ,CAAC;YACtC,UAAU,EAAE,CAAC,IAAI,EAAE,UAAU,CAAC,QAAQ,CAAC,CAAC,wCAAwC;SACjF,CAAC,CAAC;IAIiJ,CAAC;IAErJ,QAAQ;QACN,sDAAsD;QACtD,IAAI,CAAC,SAAS,GAAG,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAAA;QAClD,IAAI,YAAY,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,IAAI,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,EAAE;YAClE,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,OAAO,CAAC,CAAA;SACpC;IACH,CAAC;IAED,SAAS;QACP,oDAAoD;QACpD,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC,SAAS,CACrF,CAAC,GAAG,EAAE,EAAE;YACN,GAAG,CAAC,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;YACrI,YAAY,CAAC,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAA,CAAC,mCAAmC;YAC1F,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,kBAAkB,EAAE,SAAS,CAAC,CAAC,CAAC,oCAAoC;YACxF,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,+CAA+C;YACpF,MAAM,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAA;QAC1B,CAAC,EACD,CAAC,KAAK,EAAE,EAAE;YACR,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,gCAAgC,EAAE,cAAc,CAAC,CAAC,CAAC,kCAAkC;QACzG,CAAC,CACF,CAAC;IACJ,CAAC;CAEF,CAAA;;YA5CQ,MAAM;YADN,WAAW;YAGX,gBAAgB;YADhB,aAAa;;AAQT,kBAAkB;IAL9B,SAAS,CAAC;QACT,QAAQ,EAAE,gBAAgB;QAC1B,8BAA0C;;KAE3C,CAAC;GACW,kBAAkB,CAmC9B;SAnCY,kBAAkB\",\n      sourcesContent: [\"import { Component, OnInit } from '@angular/core';\\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\\nimport { Router } from '@angular/router';\\nimport { ToastrService } from 'ngx-toastr';\\nimport { UserLoginService } from './user-login.service';\\n\\n@Component({\\n  selector: 'app-user-login',\\n  templateUrl: './user-login.component.html',\\n  styleUrls: ['./user-login.component.scss']\\n})\\nexport class UserLoginComponent implements OnInit {\\n\\n  formGroup: FormGroup = this.formBuilder.group({\\n    'emailId': [null, Validators.required], // Form control for email input field\\n    'password': [null, Validators.required] // Form control for password input field\\n  });\\n\\n  loggedUser: any; // Stores the logged-in user data\\n  authority: any;\\n  constructor(private _router: Router, private formBuilder: FormBuilder, private userLoginService: UserLoginService, private toastr: ToastrService) { }\\n\\n  ngOnInit(): void {\\n    // If user is already logged in, redirect to home page\\n    this.authority = localStorage.getItem(\\\"authority\\\")\\n    if (localStorage.getItem(\\\"user\\\") != null || this.authority == null) {\\n      this._router.navigateByUrl('/home')\\n    }\\n  }\\n\\n  loginUser() {\\n    // Send a login request to the server with form data\\n    this.userLoginService.loginUser(this.formGroup.getRawValue(), this.authority).subscribe(\\n      (res) => {\\n        res.user.authority = res.user.authority.substring(5).charAt(0).toUpperCase() + res.user.authority.substring(5).toLowerCase().slice(1)\\n        localStorage.setItem(\\\"user\\\", JSON.stringify(res.user)) // Store user data in local storage\\n        this.toastr.success('Login Successful', 'Welcome'); // Show success message using Toastr\\n        this._router.navigateByUrl('/home'); // Redirect to home page after successful login\\n        window.location.reload()\\n      },\\n      (error) => {\\n        this.toastr.error('Incorrect username or password', 'Login Failed'); // Show error message using Toastr\\n      }\\n    );\\n  }\\n\\n}\\n\"]\n    },\n    _coverageSchema: \"1a1c01bbd47fc00a2c39e90264f33305004495a9\",\n    hash: \"c55aeea3cbf776c7253c0a0e167204124f417bdc\"\n  };\n  var coverage = global[gcv] || (global[gcv] = {});\n\n  if (!coverage[path] || coverage[path].hash !== hash) {\n    coverage[path] = coverageData;\n  }\n\n  var actualCoverage = coverage[path];\n  {\n    // @ts-ignore\n    cov_2nx9f90xx0 = function () {\n      return actualCoverage;\n    };\n  }\n  return actualCoverage;\n}\n\ncov_2nx9f90xx0();\nimport { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./user-login.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./user-login.component.scss?ngResource\";\nimport { Component } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { ToastrService } from 'ngx-toastr';\nimport { UserLoginService } from './user-login.service';\ncov_2nx9f90xx0().s[0]++;\nlet UserLoginComponent = class UserLoginComponent {\n  constructor(_router, formBuilder, userLoginService, toastr) {\n    cov_2nx9f90xx0().f[0]++;\n    cov_2nx9f90xx0().s[1]++;\n    this._router = _router;\n    cov_2nx9f90xx0().s[2]++;\n    this.formBuilder = formBuilder;\n    cov_2nx9f90xx0().s[3]++;\n    this.userLoginService = userLoginService;\n    cov_2nx9f90xx0().s[4]++;\n    this.toastr = toastr;\n    cov_2nx9f90xx0().s[5]++;\n    this.formGroup = this.formBuilder.group({\n      'emailId': [null, Validators.required],\n      'password': [null, Validators.required] // Form control for password input field\n\n    });\n  }\n\n  ngOnInit() {\n    cov_2nx9f90xx0().f[1]++;\n    cov_2nx9f90xx0().s[6]++;\n    // If user is already logged in, redirect to home page\n    this.authority = localStorage.getItem(\"authority\");\n    cov_2nx9f90xx0().s[7]++;\n\n    if ((cov_2nx9f90xx0().b[1][0]++, localStorage.getItem(\"user\") != null) || (cov_2nx9f90xx0().b[1][1]++, this.authority == null)) {\n      cov_2nx9f90xx0().b[0][0]++;\n      cov_2nx9f90xx0().s[8]++;\n\n      this._router.navigateByUrl('/home');\n    } else {\n      cov_2nx9f90xx0().b[0][1]++;\n    }\n  }\n\n  loginUser() {\n    cov_2nx9f90xx0().f[2]++;\n    cov_2nx9f90xx0().s[9]++;\n    // Send a login request to the server with form data\n    this.userLoginService.loginUser(this.formGroup.getRawValue(), this.authority).subscribe(res => {\n      cov_2nx9f90xx0().f[3]++;\n      cov_2nx9f90xx0().s[10]++;\n      res.user.authority = res.user.authority.substring(5).charAt(0).toUpperCase() + res.user.authority.substring(5).toLowerCase().slice(1);\n      cov_2nx9f90xx0().s[11]++;\n      localStorage.setItem(\"user\", JSON.stringify(res.user)); // Store user data in local storage\n\n      cov_2nx9f90xx0().s[12]++;\n      this.toastr.success('Login Successful', 'Welcome'); // Show success message using Toastr\n\n      cov_2nx9f90xx0().s[13]++;\n\n      this._router.navigateByUrl('/home'); // Redirect to home page after successful login\n\n\n      cov_2nx9f90xx0().s[14]++;\n      window.location.reload();\n    }, error => {\n      cov_2nx9f90xx0().f[4]++;\n      cov_2nx9f90xx0().s[15]++;\n      this.toastr.error('Incorrect username or password', 'Login Failed'); // Show error message using Toastr\n    });\n  }\n\n};\ncov_2nx9f90xx0().s[16]++;\n\nUserLoginComponent.ctorParameters = () => {\n  cov_2nx9f90xx0().f[5]++;\n  cov_2nx9f90xx0().s[17]++;\n  return [{\n    type: Router\n  }, {\n    type: FormBuilder\n  }, {\n    type: UserLoginService\n  }, {\n    type: ToastrService\n  }];\n};\n\ncov_2nx9f90xx0().s[18]++;\nUserLoginComponent = __decorate([Component({\n  selector: 'app-user-login',\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n})], UserLoginComponent);\nexport { UserLoginComponent };","map":{"version":3,"sources":["/Users/nipunhedaoo/Documents/GitHub/Team_CodeBlooded_SOEN6011_Summer2023/career-service-app-client/src/app/user-login/user-login.component.ts"],"names":["__decorate","__NG_CLI_RESOURCE__0","__NG_CLI_RESOURCE__1","Component","FormBuilder","Validators","Router","ToastrService","UserLoginService","UserLoginComponent","constructor","_router","formBuilder","userLoginService","toastr","formGroup","group","required","ngOnInit","authority","localStorage","getItem","navigateByUrl","loginUser","getRawValue","subscribe","res","user","substring","charAt","toUpperCase","toLowerCase","slice","setItem","JSON","stringify","success","window","location","reload","error","ctorParameters","type","selector","template","styles"],"mappings":"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","sourcesContent":["import { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./user-login.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./user-login.component.scss?ngResource\";\nimport { Component } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { ToastrService } from 'ngx-toastr';\nimport { UserLoginService } from './user-login.service';\nlet UserLoginComponent = class UserLoginComponent {\n    constructor(_router, formBuilder, userLoginService, toastr) {\n        this._router = _router;\n        this.formBuilder = formBuilder;\n        this.userLoginService = userLoginService;\n        this.toastr = toastr;\n        this.formGroup = this.formBuilder.group({\n            'emailId': [null, Validators.required],\n            'password': [null, Validators.required] // Form control for password input field\n        });\n    }\n    ngOnInit() {\n        // If user is already logged in, redirect to home page\n        this.authority = localStorage.getItem(\"authority\");\n        if (localStorage.getItem(\"user\") != null || this.authority == null) {\n            this._router.navigateByUrl('/home');\n        }\n    }\n    loginUser() {\n        // Send a login request to the server with form data\n        this.userLoginService.loginUser(this.formGroup.getRawValue(), this.authority).subscribe((res) => {\n            res.user.authority = res.user.authority.substring(5).charAt(0).toUpperCase() + res.user.authority.substring(5).toLowerCase().slice(1);\n            localStorage.setItem(\"user\", JSON.stringify(res.user)); // Store user data in local storage\n            this.toastr.success('Login Successful', 'Welcome'); // Show success message using Toastr\n            this._router.navigateByUrl('/home'); // Redirect to home page after successful login\n            window.location.reload();\n        }, (error) => {\n            this.toastr.error('Incorrect username or password', 'Login Failed'); // Show error message using Toastr\n        });\n    }\n};\nUserLoginComponent.ctorParameters = () => [\n    { type: Router },\n    { type: FormBuilder },\n    { type: UserLoginService },\n    { type: ToastrService }\n];\nUserLoginComponent = __decorate([\n    Component({\n        selector: 'app-user-login',\n        template: __NG_CLI_RESOURCE__0,\n        styles: [__NG_CLI_RESOURCE__1]\n    })\n], UserLoginComponent);\nexport { UserLoginComponent };\n"]},"metadata":{},"sourceType":"module"}