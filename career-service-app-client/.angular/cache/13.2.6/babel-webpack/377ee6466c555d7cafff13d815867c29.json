{"ast":null,"code":"function cov_25filzxcjk() {\n  var path = \"/Users/nipunhedaoo/Documents/GitHub/Team_CodeBlooded_SOEN6011_Summer2023/career-service-app-client/src/app/applied-jobs/applied-jobs.component.ts\";\n  var hash = \"cace3cec011ad9fdf5fe3cb1bede495d11d5d015\";\n  var global = new Function(\"return this\")();\n  var gcv = \"__coverage__\";\n  var coverageData = {\n    path: \"/Users/nipunhedaoo/Documents/GitHub/Team_CodeBlooded_SOEN6011_Summer2023/career-service-app-client/src/app/applied-jobs/applied-jobs.component.ts\",\n    statementMap: {\n      \"0\": {\n        start: {\n          line: 10,\n          column: 27\n        },\n        end: {\n          line: 61,\n          column: 1\n        }\n      },\n      \"1\": {\n        start: {\n          line: 12,\n          column: 8\n        },\n        end: {\n          line: 12,\n          column: 31\n        }\n      },\n      \"2\": {\n        start: {\n          line: 13,\n          column: 8\n        },\n        end: {\n          line: 13,\n          column: 53\n        }\n      },\n      \"3\": {\n        start: {\n          line: 14,\n          column: 8\n        },\n        end: {\n          line: 14,\n          column: 29\n        }\n      },\n      \"4\": {\n        start: {\n          line: 15,\n          column: 8\n        },\n        end: {\n          line: 15,\n          column: 34\n        }\n      },\n      \"5\": {\n        start: {\n          line: 18,\n          column: 8\n        },\n        end: {\n          line: 18,\n          column: 55\n        }\n      },\n      \"6\": {\n        start: {\n          line: 19,\n          column: 8\n        },\n        end: {\n          line: 19,\n          column: 54\n        }\n      },\n      \"7\": {\n        start: {\n          line: 20,\n          column: 8\n        },\n        end: {\n          line: 23,\n          column: 9\n        }\n      },\n      \"8\": {\n        start: {\n          line: 21,\n          column: 12\n        },\n        end: {\n          line: 21,\n          column: 48\n        }\n      },\n      \"9\": {\n        start: {\n          line: 22,\n          column: 12\n        },\n        end: {\n          line: 22,\n          column: 19\n        }\n      },\n      \"10\": {\n        start: {\n          line: 24,\n          column: 8\n        },\n        end: {\n          line: 59,\n          column: 11\n        }\n      },\n      \"11\": {\n        start: {\n          line: 26,\n          column: 43\n        },\n        end: {\n          line: 42,\n          column: 14\n        }\n      },\n      \"12\": {\n        start: {\n          line: 27,\n          column: 16\n        },\n        end: {\n          line: 41,\n          column: 20\n        }\n      },\n      \"13\": {\n        start: {\n          line: 31,\n          column: 37\n        },\n        end: {\n          line: 31,\n          column: 55\n        }\n      },\n      \"14\": {\n        start: {\n          line: 32,\n          column: 32\n        },\n        end: {\n          line: 32,\n          column: 45\n        }\n      },\n      \"15\": {\n        start: {\n          line: 33,\n          column: 40\n        },\n        end: {\n          line: 39,\n          column: 21\n        }\n      },\n      \"16\": {\n        start: {\n          line: 40,\n          column: 20\n        },\n        end: {\n          line: 40,\n          column: 39\n        }\n      },\n      \"17\": {\n        start: {\n          line: 43,\n          column: 12\n        },\n        end: {\n          line: 43,\n          column: 52\n        }\n      },\n      \"18\": {\n        start: {\n          line: 46,\n          column: 12\n        },\n        end: {\n          line: 54,\n          column: 13\n        }\n      },\n      \"19\": {\n        start: {\n          line: 47,\n          column: 16\n        },\n        end: {\n          line: 47,\n          column: 45\n        }\n      },\n      \"20\": {\n        start: {\n          line: 48,\n          column: 16\n        },\n        end: {\n          line: 48,\n          column: 51\n        }\n      },\n      \"21\": {\n        start: {\n          line: 51,\n          column: 16\n        },\n        end: {\n          line: 51,\n          column: 72\n        }\n      },\n      \"22\": {\n        start: {\n          line: 52,\n          column: 16\n        },\n        end: {\n          line: 52,\n          column: 52\n        }\n      },\n      \"23\": {\n        start: {\n          line: 53,\n          column: 16\n        },\n        end: {\n          line: 53,\n          column: 52\n        }\n      },\n      \"24\": {\n        start: {\n          line: 56,\n          column: 12\n        },\n        end: {\n          line: 56,\n          column: 33\n        }\n      },\n      \"25\": {\n        start: {\n          line: 57,\n          column: 12\n        },\n        end: {\n          line: 57,\n          column: 48\n        }\n      },\n      \"26\": {\n        start: {\n          line: 58,\n          column: 12\n        },\n        end: {\n          line: 58,\n          column: 48\n        }\n      },\n      \"27\": {\n        start: {\n          line: 62,\n          column: 0\n        },\n        end: {\n          line: 66,\n          column: 2\n        }\n      },\n      \"28\": {\n        start: {\n          line: 62,\n          column: 44\n        },\n        end: {\n          line: 66,\n          column: 1\n        }\n      },\n      \"29\": {\n        start: {\n          line: 67,\n          column: 0\n        },\n        end: {\n          line: 73,\n          column: 25\n        }\n      }\n    },\n    fnMap: {\n      \"0\": {\n        name: \"(anonymous_0)\",\n        decl: {\n          start: {\n            line: 11,\n            column: 4\n          },\n          end: {\n            line: 11,\n            column: 5\n          }\n        },\n        loc: {\n          start: {\n            line: 11,\n            column: 53\n          },\n          end: {\n            line: 16,\n            column: 5\n          }\n        },\n        line: 11\n      },\n      \"1\": {\n        name: \"(anonymous_1)\",\n        decl: {\n          start: {\n            line: 17,\n            column: 4\n          },\n          end: {\n            line: 17,\n            column: 5\n          }\n        },\n        loc: {\n          start: {\n            line: 17,\n            column: 15\n          },\n          end: {\n            line: 60,\n            column: 5\n          }\n        },\n        line: 17\n      },\n      \"2\": {\n        name: \"(anonymous_2)\",\n        decl: {\n          start: {\n            line: 25,\n            column: 28\n          },\n          end: {\n            line: 25,\n            column: 29\n          }\n        },\n        loc: {\n          start: {\n            line: 25,\n            column: 37\n          },\n          end: {\n            line: 44,\n            column: 9\n          }\n        },\n        line: 25\n      },\n      \"3\": {\n        name: \"(anonymous_3)\",\n        decl: {\n          start: {\n            line: 26,\n            column: 51\n          },\n          end: {\n            line: 26,\n            column: 52\n          }\n        },\n        loc: {\n          start: {\n            line: 26,\n            column: 64\n          },\n          end: {\n            line: 42,\n            column: 13\n          }\n        },\n        line: 26\n      },\n      \"4\": {\n        name: \"(anonymous_4)\",\n        decl: {\n          start: {\n            line: 30,\n            column: 28\n          },\n          end: {\n            line: 30,\n            column: 29\n          }\n        },\n        loc: {\n          start: {\n            line: 30,\n            column: 43\n          },\n          end: {\n            line: 41,\n            column: 17\n          }\n        },\n        line: 30\n      },\n      \"5\": {\n        name: \"(anonymous_5)\",\n        decl: {\n          start: {\n            line: 45,\n            column: 23\n          },\n          end: {\n            line: 45,\n            column: 24\n          }\n        },\n        loc: {\n          start: {\n            line: 45,\n            column: 34\n          },\n          end: {\n            line: 55,\n            column: 9\n          }\n        },\n        line: 45\n      },\n      \"6\": {\n        name: \"(anonymous_6)\",\n        decl: {\n          start: {\n            line: 55,\n            column: 11\n          },\n          end: {\n            line: 55,\n            column: 12\n          }\n        },\n        loc: {\n          start: {\n            line: 55,\n            column: 22\n          },\n          end: {\n            line: 59,\n            column: 9\n          }\n        },\n        line: 55\n      },\n      \"7\": {\n        name: \"(anonymous_7)\",\n        decl: {\n          start: {\n            line: 62,\n            column: 38\n          },\n          end: {\n            line: 62,\n            column: 39\n          }\n        },\n        loc: {\n          start: {\n            line: 62,\n            column: 44\n          },\n          end: {\n            line: 66,\n            column: 1\n          }\n        },\n        line: 62\n      }\n    },\n    branchMap: {\n      \"0\": {\n        loc: {\n          start: {\n            line: 20,\n            column: 8\n          },\n          end: {\n            line: 23,\n            column: 9\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 20,\n            column: 8\n          },\n          end: {\n            line: 23,\n            column: 9\n          }\n        }, {\n          start: {\n            line: undefined,\n            column: undefined\n          },\n          end: {\n            line: undefined,\n            column: undefined\n          }\n        }],\n        line: 20\n      },\n      \"1\": {\n        loc: {\n          start: {\n            line: 46,\n            column: 12\n          },\n          end: {\n            line: 54,\n            column: 13\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 46,\n            column: 12\n          },\n          end: {\n            line: 54,\n            column: 13\n          }\n        }, {\n          start: {\n            line: 50,\n            column: 17\n          },\n          end: {\n            line: 54,\n            column: 13\n          }\n        }],\n        line: 46\n      }\n    },\n    s: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0,\n      \"9\": 0,\n      \"10\": 0,\n      \"11\": 0,\n      \"12\": 0,\n      \"13\": 0,\n      \"14\": 0,\n      \"15\": 0,\n      \"16\": 0,\n      \"17\": 0,\n      \"18\": 0,\n      \"19\": 0,\n      \"20\": 0,\n      \"21\": 0,\n      \"22\": 0,\n      \"23\": 0,\n      \"24\": 0,\n      \"25\": 0,\n      \"26\": 0,\n      \"27\": 0,\n      \"28\": 0,\n      \"29\": 0\n    },\n    f: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0\n    },\n    b: {\n      \"0\": [0, 0],\n      \"1\": [0, 0]\n    },\n    inputSourceMap: {\n      version: 3,\n      file: \"applied-jobs.component.js\",\n      sourceRoot: \"\",\n      sources: [\"/Users/nipunhedaoo/Documents/GitHub/Team_CodeBlooded_SOEN6011_Summer2023/career-service-app-client/src/app/applied-jobs/applied-jobs.component.ts\"],\n      names: [],\n      mappings: \"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\",\n      sourcesContent: [\"import { Component, OnInit } from '@angular/core';\\nimport { Router } from '@angular/router';\\nimport { AppliedJobsService } from './applied-jobs.service';\\nimport { Application } from './../../models/Application';\\nimport { Employer } from './../../models/Employer'; // Update the import path\\nimport { Job } from './../../models/Job'; // Update the import path\\nimport { Candidate } from './../../models/Candidate'; // Update the import path\\nimport { ToastrService } from 'ngx-toastr';\\nimport { switchMap, map } from 'rxjs/operators';\\nimport { forkJoin } from 'rxjs';\\n\\n@Component({\\n  selector: 'app-applied-jobs',\\n  templateUrl: './applied-jobs.component.html',\\n  styleUrls: ['./applied-jobs.component.scss']\\n})\\nexport class AppliedJobsComponent implements OnInit {\\n\\n  appliedJobsList: Array<Application> = [];\\n\\n  constructor(\\n    private _router: Router,\\n    private appliedJobsService: AppliedJobsService,\\n    private toastr: ToastrService\\n  ) {}\\n\\n  loggedUser: any; // Variable to store the logged-in user details\\n\\n  ngOnInit(): void {\\n    this.loggedUser = localStorage.getItem(\\\"user\\\");\\n    this.loggedUser = JSON.parse(this.loggedUser);\\n  \\n    if (!this.loggedUser) {\\n      this._router.navigateByUrl('/home');\\n      return;\\n    }\\n  \\n    this.appliedJobsService.getAllAppliedJobs(this.loggedUser.userId)\\n      .pipe(\\n        switchMap((res: any) => {\\n          const appliedJobsObservables = res.map((element: any) => {\\n            return forkJoin({\\n              employer: this.appliedJobsService.getEmployer(element.employerId),\\n              job: this.appliedJobsService.getJob(element.jobId)\\n            }).pipe(\\n              map((responses: any) => {\\n                const employer = responses.employer;\\n                const job = responses.job;\\n                const application: Application = {\\n                  id: element.id,\\n                  employer,\\n                  job,\\n                  status: element.status,\\n                  candidate: {} as Candidate // Initialize as empty object for now\\n                };\\n                return application;\\n              })\\n            );\\n          });\\n          return forkJoin(appliedJobsObservables);\\n        })\\n      )\\n      .subscribe(\\n        (value: unknown) => {\\n          if (Array.isArray(value)) {\\n            this.appliedJobsList = value as Application[];\\n            console.warn(this.appliedJobsList);\\n          } else {\\n            console.error('Invalid value received from observable');\\n            this.toastr.error('Error occurred');\\n            this._router.navigateByUrl('/home');\\n          }\\n        },\\n        (error: any) => {\\n          console.error(error);\\n          this.toastr.error('Error occurred');\\n          this._router.navigateByUrl('/home');\\n        }\\n      );\\n  }\\n}\"]\n    },\n    _coverageSchema: \"1a1c01bbd47fc00a2c39e90264f33305004495a9\",\n    hash: \"cace3cec011ad9fdf5fe3cb1bede495d11d5d015\"\n  };\n  var coverage = global[gcv] || (global[gcv] = {});\n\n  if (!coverage[path] || coverage[path].hash !== hash) {\n    coverage[path] = coverageData;\n  }\n\n  var actualCoverage = coverage[path];\n  {\n    // @ts-ignore\n    cov_25filzxcjk = function () {\n      return actualCoverage;\n    };\n  }\n  return actualCoverage;\n}\n\ncov_25filzxcjk();\nimport { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./applied-jobs.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./applied-jobs.component.scss?ngResource\";\nimport { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AppliedJobsService } from './applied-jobs.service';\nimport { ToastrService } from 'ngx-toastr';\nimport { switchMap, map } from 'rxjs/operators';\nimport { forkJoin } from 'rxjs';\ncov_25filzxcjk().s[0]++;\nlet AppliedJobsComponent = class AppliedJobsComponent {\n  constructor(_router, appliedJobsService, toastr) {\n    cov_25filzxcjk().f[0]++;\n    cov_25filzxcjk().s[1]++;\n    this._router = _router;\n    cov_25filzxcjk().s[2]++;\n    this.appliedJobsService = appliedJobsService;\n    cov_25filzxcjk().s[3]++;\n    this.toastr = toastr;\n    cov_25filzxcjk().s[4]++;\n    this.appliedJobsList = [];\n  }\n\n  ngOnInit() {\n    cov_25filzxcjk().f[1]++;\n    cov_25filzxcjk().s[5]++;\n    this.loggedUser = localStorage.getItem(\"user\");\n    cov_25filzxcjk().s[6]++;\n    this.loggedUser = JSON.parse(this.loggedUser);\n    cov_25filzxcjk().s[7]++;\n\n    if (!this.loggedUser) {\n      cov_25filzxcjk().b[0][0]++;\n      cov_25filzxcjk().s[8]++;\n\n      this._router.navigateByUrl('/home');\n\n      cov_25filzxcjk().s[9]++;\n      return;\n    } else {\n      cov_25filzxcjk().b[0][1]++;\n    }\n\n    cov_25filzxcjk().s[10]++;\n    this.appliedJobsService.getAllAppliedJobs(this.loggedUser.userId).pipe(switchMap(res => {\n      cov_25filzxcjk().f[2]++;\n      const appliedJobsObservables = (cov_25filzxcjk().s[11]++, res.map(element => {\n        cov_25filzxcjk().f[3]++;\n        cov_25filzxcjk().s[12]++;\n        return forkJoin({\n          employer: this.appliedJobsService.getEmployer(element.employerId),\n          job: this.appliedJobsService.getJob(element.jobId)\n        }).pipe(map(responses => {\n          cov_25filzxcjk().f[4]++;\n          const employer = (cov_25filzxcjk().s[13]++, responses.employer);\n          const job = (cov_25filzxcjk().s[14]++, responses.job);\n          const application = (cov_25filzxcjk().s[15]++, {\n            id: element.id,\n            employer,\n            job,\n            status: element.status,\n            candidate: {} // Initialize as empty object for now\n\n          });\n          cov_25filzxcjk().s[16]++;\n          return application;\n        }));\n      }));\n      cov_25filzxcjk().s[17]++;\n      return forkJoin(appliedJobsObservables);\n    })).subscribe(value => {\n      cov_25filzxcjk().f[5]++;\n      cov_25filzxcjk().s[18]++;\n\n      if (Array.isArray(value)) {\n        cov_25filzxcjk().b[1][0]++;\n        cov_25filzxcjk().s[19]++;\n        this.appliedJobsList = value;\n        cov_25filzxcjk().s[20]++;\n        console.warn(this.appliedJobsList);\n      } else {\n        cov_25filzxcjk().b[1][1]++;\n        cov_25filzxcjk().s[21]++;\n        console.error('Invalid value received from observable');\n        cov_25filzxcjk().s[22]++;\n        this.toastr.error('Error occurred');\n        cov_25filzxcjk().s[23]++;\n\n        this._router.navigateByUrl('/home');\n      }\n    }, error => {\n      cov_25filzxcjk().f[6]++;\n      cov_25filzxcjk().s[24]++;\n      console.error(error);\n      cov_25filzxcjk().s[25]++;\n      this.toastr.error('Error occurred');\n      cov_25filzxcjk().s[26]++;\n\n      this._router.navigateByUrl('/home');\n    });\n  }\n\n};\ncov_25filzxcjk().s[27]++;\n\nAppliedJobsComponent.ctorParameters = () => {\n  cov_25filzxcjk().f[7]++;\n  cov_25filzxcjk().s[28]++;\n  return [{\n    type: Router\n  }, {\n    type: AppliedJobsService\n  }, {\n    type: ToastrService\n  }];\n};\n\ncov_25filzxcjk().s[29]++;\nAppliedJobsComponent = __decorate([Component({\n  selector: 'app-applied-jobs',\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n})], AppliedJobsComponent);\nexport { AppliedJobsComponent };","map":{"version":3,"sources":["/Users/nipunhedaoo/Documents/GitHub/Team_CodeBlooded_SOEN6011_Summer2023/career-service-app-client/src/app/applied-jobs/applied-jobs.component.ts"],"names":["__decorate","__NG_CLI_RESOURCE__0","__NG_CLI_RESOURCE__1","Component","Router","AppliedJobsService","ToastrService","switchMap","map","forkJoin","AppliedJobsComponent","constructor","_router","appliedJobsService","toastr","appliedJobsList","ngOnInit","loggedUser","localStorage","getItem","JSON","parse","navigateByUrl","getAllAppliedJobs","userId","pipe","res","appliedJobsObservables","element","employer","getEmployer","employerId","job","getJob","jobId","responses","application","id","status","candidate","subscribe","value","Array","isArray","console","warn","error","ctorParameters","type","selector","template","styles"],"mappings":"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","sourcesContent":["import { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./applied-jobs.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./applied-jobs.component.scss?ngResource\";\nimport { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AppliedJobsService } from './applied-jobs.service';\nimport { ToastrService } from 'ngx-toastr';\nimport { switchMap, map } from 'rxjs/operators';\nimport { forkJoin } from 'rxjs';\nlet AppliedJobsComponent = class AppliedJobsComponent {\n    constructor(_router, appliedJobsService, toastr) {\n        this._router = _router;\n        this.appliedJobsService = appliedJobsService;\n        this.toastr = toastr;\n        this.appliedJobsList = [];\n    }\n    ngOnInit() {\n        this.loggedUser = localStorage.getItem(\"user\");\n        this.loggedUser = JSON.parse(this.loggedUser);\n        if (!this.loggedUser) {\n            this._router.navigateByUrl('/home');\n            return;\n        }\n        this.appliedJobsService.getAllAppliedJobs(this.loggedUser.userId)\n            .pipe(switchMap((res) => {\n            const appliedJobsObservables = res.map((element) => {\n                return forkJoin({\n                    employer: this.appliedJobsService.getEmployer(element.employerId),\n                    job: this.appliedJobsService.getJob(element.jobId)\n                }).pipe(map((responses) => {\n                    const employer = responses.employer;\n                    const job = responses.job;\n                    const application = {\n                        id: element.id,\n                        employer,\n                        job,\n                        status: element.status,\n                        candidate: {} // Initialize as empty object for now\n                    };\n                    return application;\n                }));\n            });\n            return forkJoin(appliedJobsObservables);\n        }))\n            .subscribe((value) => {\n            if (Array.isArray(value)) {\n                this.appliedJobsList = value;\n                console.warn(this.appliedJobsList);\n            }\n            else {\n                console.error('Invalid value received from observable');\n                this.toastr.error('Error occurred');\n                this._router.navigateByUrl('/home');\n            }\n        }, (error) => {\n            console.error(error);\n            this.toastr.error('Error occurred');\n            this._router.navigateByUrl('/home');\n        });\n    }\n};\nAppliedJobsComponent.ctorParameters = () => [\n    { type: Router },\n    { type: AppliedJobsService },\n    { type: ToastrService }\n];\nAppliedJobsComponent = __decorate([\n    Component({\n        selector: 'app-applied-jobs',\n        template: __NG_CLI_RESOURCE__0,\n        styles: [__NG_CLI_RESOURCE__1]\n    })\n], AppliedJobsComponent);\nexport { AppliedJobsComponent };\n"]},"metadata":{},"sourceType":"module"}